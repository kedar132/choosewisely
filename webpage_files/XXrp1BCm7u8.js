/*!CK:2335557716!*//*1433199099,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["TSozu"]); }

__d("ChatTypeaheadEvent",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ABANDONED_QUERY:"abandoned_query",NEW_QUERY:"new_query",RESULT_SELECTED:"result_selected"};},null);
__d("ChatOptions",["Arbiter","ChannelConstants","JSLogger","PresenceUtil","copyProperties","ChatOptionsInitialData"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=i.create('chat_options'),m={};(function(){var o=b('ChatOptionsInitialData');for(var p in o){var q=o[p];m[p]=!!q;}})();var n=k(new g(),{getSetting:function(o){return m[o];},setSetting:function(o,p,q){if(this.getSetting(o)==p)return;if(q){q='from_'+q;l.log(q,{name:o,new_value:p,old_value:this.getSetting(o)});}m[o]=!!p;g.inform('chat/option-changed',{name:o,value:p});}});g.subscribe(h.getArbiterType('setting'),function(o,p){var q=p.obj;if(q.window_id===j.getSessionID())return;n.setSetting(q.setting,!!q.value,'channel');});g.subscribe(i.DUMP_EVENT,function(o,p){p.chat_options=m;});e.exports=n;},null);
__d("ChatQuietLinks",["Event","DOM","UserAgent_DEPRECATED","DataStore","Parent"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l={},m={silenceLinks:function(q){n(q,this.removeEmptyHrefs.bind(this));},nukeLinks:function(q){n(q,this.removeAllHrefs.bind(this));},removeEmptyHrefs:function(q){o(q,function(r){return !r||r==='#';});},removeAllHrefs:function(q){o(q);}};function n(q,r){var s=!!i.chrome(),t=!!i.chrome()||i.ie()>=9||i.firefox()>=4;if(l[h.getID(q)])return;l[h.getID(q)]=true;if(!t)return;if(!s){r&&r(q);return;}g.listen(q,'mouseover',function u(v){var w=k.byTag(v.getTarget(),'a');if(w){var x=w.getAttribute('href');if(p(x)){j.set(w,'stashedHref',w.getAttribute('href'));w.removeAttribute('href');}}});g.listen(q,'mouseout',function u(v){var w=k.byTag(v.getTarget(),'a'),x=w&&j.remove(w,'stashedHref');if(p(x))w.setAttribute('href',x);});g.listen(q,'mousedown',function(u){if(!u.isDefaultRequested())return true;var v=k.byTag(u.getTarget(),'a'),w=v&&j.get(v,'stashedHref');if(p(w))v.setAttribute('href',w);});}function o(q,r){var s=h.scry(q,'a');if(r)s=s.filter(function(t){return r(t.getAttribute('href'));});s.forEach(function(t){t.removeAttribute('href');t.setAttribute('tabindex',0);});}function p(q){return q&&q!=='#';}e.exports=m;},null);
__d("ChatDispatcher",["Dispatcher"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';e.exports=new g();},null);
__d("ChatTabActions",["ChatDispatcher","keyMirror"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=h({CLOSE_TAB:null,CLOSE_ALL_TABS:null,CLOSE_FRAGILE_TABS:null,LOWER_TAB:null,PERSIST_LOCAL_STATE:null,PROMOTE_TAB:null,RAISE_TAB:null}),j={Types:i,closeTab:function(k,l){g.dispatch({actionType:i.CLOSE_TAB,reason:l,threadID:k});},closeAllTabs:function(){g.dispatch({actionType:i.CLOSE_ALL_TABS});},closeFragileTabs:function(){g.dispatch({actionType:i.CLOSE_FRAGILE_TABS});},lowerTab:function(k){g.dispatch({actionType:i.LOWER_TAB,threadID:k});},persistLocalState:function(){g.dispatch({actionType:i.PERSIST_LOCAL_STATE});},promoteTab:function(k){g.dispatch({actionType:i.PROMOTE_TAB,threadID:k});},raiseTab:function(k,l,m){g.dispatch({actionType:i.RAISE_TAB,signatureID:m,threadID:k,userAction:l});}};e.exports=j;},null);
__d("ChatSidebarActions",["ChatDispatcher","keyMirror"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=h({HIDE:null,SET_ENABLED:null,SHOW:null,TOGGLE:null}),j={Types:i,disable:function(){g.dispatch({type:i.SET_ENABLED,enabled:false});},enable:function(){g.dispatch({type:i.SET_ENABLED,enabled:true});},hide:function(){g.dispatch({type:i.HIDE});},show:function(){g.dispatch({type:i.SHOW});},toggle:function(){g.dispatch({type:i.TOGGLE});}};e.exports=j;},null);
__d("ChatSidebarStore",["ChatDispatcher","ChatOptions","ChatSidebarActions","FluxStore"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(){j.call(this,g);this.$ChatSidebarStore0={visible:true,enabled:!!h.getSetting('sidebar_mode')};}m.prototype.__onDispatch=function(n){var o=n.type,p=Object.assign({},this.$ChatSidebarStore0);switch(o){case i.Types.HIDE:this.$ChatSidebarStore0.visible=false;break;case i.Types.SHOW:this.$ChatSidebarStore0.visible=true;break;case i.Types.SET_ENABLED:this.$ChatSidebarStore0.enabled=n.enabled;break;case i.Types.TOGGLE:this.$ChatSidebarStore0.enabled=!this.$ChatSidebarStore0.enabled;break;}for(var q in this.$ChatSidebarStore0)if(this.$ChatSidebarStore0.hasOwnProperty(q))if(this.$ChatSidebarStore0[q]!==p[q]){this.__emitChange();break;}};m.prototype.getState=function(){return this.$ChatSidebarStore0;};e.exports=new m();},null);
__d("ChatSidebarComposeLink.react",["ChatOpenTab","React","TooltipLink.react","URI","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h,m=l.PropTypes,n=h.createClass({displayName:"ChatSidebarComposeLink",propTypes:{className:m.string.isRequired},componentDidMount:function(){g.listenOpenEmptyTab(h.findDOMNode(this),'sidebar');},render:function(){var o=k._("New Message");return (h.createElement(i,{ajaxify:new j('/ajax/messaging/composer.php'),className:this.props.className,tooltip:o,rel:"dialog"}));}});e.exports=n;},null);
__d("ChatSidebarConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={LITESTAND_CLASSIC_SIZE:32,IMAGE_SIZE:28};Object.assign(g,{getImageSize:function(h){if(h===false)return g.IMAGE_SIZE;return g.LITESTAND_CLASSIC_SIZE;},getItemHeight:function(h){if(h===false)return g.IMAGE_SIZE+4;return g.LITESTAND_CLASSIC_SIZE+4;}});e.exports=g;},null);
__d("ChatBehavior",["Arbiter","AvailableList","AvailableListConstants","copyProperties","MercuryConstants"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=b('MercuryConstants').ChatNotificationConstants,l=false,m=h.getWebChatNotification(),n=l,o=true,p=j(new g(),{ON_CHANGED:'changed',notifiesUserMessages:function(){return m!==k.NO_USER_MESSAGE_NOTIFICATION;},ignoresRemoteTabRaise:function(){return n;},showsTabUnreadUI:function(){return o;}});function q(){p.inform(p.ON_CHANGED);}h.subscribe(i.ON_CHAT_NOTIFICATION_CHANGED,function(){var r=m,s=h.getWebChatNotification();m=s;if(r!=s)q();});g.subscribe('chat/set_does_page_occlude_tabs',function(r,s){n=!!s;q();});g.subscribe('chat/set_show_tab_unread_ui',function(r,s){o=!!s;q();});e.exports=p;},null);
__d("ChatSidebarSheetChatOffline.react",["Link.react","React","ReactComponentWithPureRenderMixin","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h,l=k.PropTypes,m=h.createClass({displayName:"ChatSidebarSheetChatOffline",mixins:[i],propTypes:{onGoOnlineClick:l.func.isRequired},render:function(){return (h.createElement("div",null,j._("{=Go online} to see who's available.",[j.param("=Go online",h.createElement(g,{className:"fbChatGoOnlineLink",onClick:this.props.onGoOnlineClick},j._("Turn on chat")))])));}});e.exports=m;},null);
__d("ChatSidebarSheet",["ArbiterMixin","ChannelConnection","ChannelConstants","ChatBehavior","ChatConfig","ChatSidebarSheetChatOffline.react","ChatVisibility","CSS","DOM","Event","JSLogger","PresencePrivacy","React","copyProperties","fbt","mixin","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();var x=q.create('sidebar_sheet');function y(ea){switch(ea){case i.HINT_AUTH:return u._("Your session has timed out. Please log in.");case i.HINT_CONN:return u._("Facebook {Chat} is currently unavailable.",[u.param("Chat",u._("Chat"))]);case i.HINT_MAINT:return u._("Facebook {Chat} is currently down for maintenance.",[u.param("Chat",u._("Chat"))]);default:return u._("Facebook {Chat} is currently unavailable.",[u.param("Chat",u._("Chat"))]);}}function z(ea){var fa;if(ea===null||false===navigator.onLine){fa=u._("Unable to connect to chat. Check your Internet connection.");}else if(ea>k.get('warning_countdown_threshold_msec')){var ga=o.create('a',{href:'#',className:'fbChatReconnectLink'},u._("Try again"));fa=u._("Unable to connect to chat. {try-again-link}",[u.param("try-again-link",ga)]);}else if(ea>1000){fa=u._("Unable to connect to chat. Reconnecting in {seconds}...",[u.param("seconds",Math.floor(ea/1000))]);}else fa=u._("Unable to connect to chat. Reconnecting...");return fa;}var aa=v(g);for(var ba in aa)if(aa.hasOwnProperty(ba))da[ba]=aa[ba];var ca=aa===null?null:aa.prototype;da.prototype=Object.create(ca);da.prototype.constructor=da;da.__superConstructor__=aa;function da(ea){"use strict";this._root=ea;this._message=o.find(ea,'div.fbChatSidebarMessage div.message');h.subscribe([h.CONNECTED,h.SHUTDOWN,h.RECONNECTING],this._handleConnectionChange.bind(this));h.subscribe([h.MUTE_WARNING,h.UNMUTE_WARNING],this._render.bind(this));r.subscribe('privacy-user-presence-changed',this._render.bind(this));j.subscribe(j.ON_CHANGED,this._render.bind(this));this._render();}da.prototype._handleConnectionChange=function(ea,fa){"use strict";this._channelStatus=ea;this._channelData=fa;this._render();};da.prototype._renderChannelDisconnect=function(){"use strict";if(this._channelStatus===h.SHUTDOWN){return o.setContent(this._message,y(this._channelData));}else if(this._channelStatus===h.RECONNECTING){var ea=this._channelData;o.setContent(this._message,z(ea));if(ea>1000){if(ea>k.get('warning_countdown_threshold_msec'))this._warningMsgEventListener=p.listen(this._message,'click',function(event){if(n.hasClass(event.getTarget(),'fbChatReconnectLink')){h.reconnect();return false;}});this._showWarningTimeout=w(this._handleConnectionChange.bind(this,h.RECONNECTING,ea-1000),1000);}}};da.prototype._renderOffline=function(){"use strict";return s.render(s.createElement(l,{onGoOnlineClick:function(ea){x.log('sidebar_go_online');m.goOnline();}}),this._message);};da.prototype._clear=function(){"use strict";if(this._showWarningTimeout){clearTimeout(this._showWarningTimeout);this._showWarningTimeout=null;}if(this._warningMsgEventListener){this._warningMsgEventListener.remove();this._warningMsgEventListener=null;}if(this._goOnlineEventListener){this._goOnlineEventListener.remove();this._goOnlineEventListener=null;}n.removeClass(this._root,'offline');n.removeClass(this._root,'error');n.removeClass(this._root,'notice');o.empty(this._message);};da.prototype._render=function(){"use strict";this._clear();if(!m.isOnline()){n.addClass(this._root,'offline');this._renderOffline();}else if(h.disconnected()){n.addClass(this._root,'error');this._renderChannelDisconnect();}else if(!j.notifiesUserMessages()){n.addClass(this._root,'notice');var ea=u._("Alerts are off while you use another client to chat.");o.setContent(this._message,ea);}this.inform('updated');};t(da.prototype,{_channelStatus:null,_channelData:null,_showWarningTimeout:null,_warningMsgEventListener:null,_goOnlineEventListener:null});e.exports=da;},null);
__d("SidebarFitWindowHeight",["Arbiter","ArbiterMixin","Event","Style","SubscriptionsHandler","TinyViewport","Vector","mixin","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=n(h);for(var q in p)if(p.hasOwnProperty(q))s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t){"use strict";this.$SidebarFitWindowHeight0=t;this.onViewportUpdate();l.subscribe('change',this.onViewportUpdate.bind(this));}s.prototype.onViewportUpdate=function(){"use strict";if(l.isTiny()){this.onScroll();var t=this.onScroll.bind(this);this.$SidebarFitWindowHeight1=new k();this.$SidebarFitWindowHeight1.addSubscriptions(i.listen(window,'scroll',t),g.subscribe('dom-scroll',t));}else{if(this.$SidebarFitWindowHeight2!==0){j.set(this.$SidebarFitWindowHeight0,'margin-top','0');this.$SidebarFitWindowHeight2=0;}this.$SidebarFitWindowHeight1&&this.$SidebarFitWindowHeight1.release();}};s.prototype.onScroll=function(){"use strict";o(this.updateScrollPosition.bind(this),this.resizeSidebar.bind(this),'SidebarFitWindowHeight/scroll');};s.prototype.updateScrollPosition=function(){"use strict";this.$SidebarFitWindowHeight3=m.getScrollPosition().y;this.$SidebarFitWindowHeight4||(this.$SidebarFitWindowHeight4=this.$SidebarFitWindowHeight0.offsetHeight);};s.prototype.resizeSidebar=function(){"use strict";var t=-Math.max(Math.min(this.$SidebarFitWindowHeight3,this.$SidebarFitWindowHeight4),0);j.set(this.$SidebarFitWindowHeight0,'margin-top',t+'px');if(t!=this.$SidebarFitWindowHeight2){this.$SidebarFitWindowHeight2=t;this.inform('resized',t);}};s.prototype.getOffset=function(){"use strict";return this.$SidebarFitWindowHeight2;};e.exports=s;},null);
__d("ChatSidebar",["Arbiter","ArbiterMixin","AsyncRequest","BanzaiODS","Bootloader","ChatConfig","ChatImpressionLogger","ChatOptions","ChatSidebarActions","ChatSidebarOptionsListener","ChatSidebarComposeLink.react","ChatSidebarConstants","ChatSidebarSheet","ChatSidebarStore","CSS","DOM","DOMDimensions","Event","JSLogger","KeyEventController","LitestandClassicPlaceHolders","MercuryConfig","OrderedFriendsList","Parent","PresencePrivacy","React","ScrollableArea","SidebarFitWindowHeight","Style","ViewportBounds","copyProperties","createArrayFromMixed","csx","cx","debounce","emptyFunction","ge","performanceAbsoluteNow"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra){b.__markCompiled&&b.__markCompiled();var sa='chat_sidebar_visibility',ta,ua=null,va,wa=false,xa=false,ya=false,za=false,ab=false,bb=false,cb,db,eb=false,fb,gb,hb,ib,jb,kb,lb,mb=null,nb,ob=y.create('chat_sidebar');j.setEntitySample(sa,.0001);function pb(){u.removeClass(document.documentElement,'sidebarMode');if(!ab||(!ac.isVisible()&&!za)){g.inform('reflow');return;}ya=false;za=false;mb=null;ib.hide();kb.getCore().reset();u.hide(gb);if(eb){u.hide(db);u.hide(fb);u.removeClass(document.documentElement,'miniSidebar');u.removeClass(gb,"_51xq");cb&&cb.setProps({shown:false},function(){return vb(false);});ob.log('minisidebar_hide');}else ob.log('sidebar_hide');g.inform('sidebar/hide',ac);g.inform('reflow');}function qb(){var bc=ac.shouldShowSidebar(),cc=ac.shouldShowMiniSidebar();if(ac.isEnabled()&&(bc||cc)){if(bc){tb();ub();}else wb();}else pb();if(!ab){zb();ab=true;}mb=null;}function rb(){if(kb&&ac.isVisible())kb.getCore().getElement().focus();}function sb(bc){var cc=lb.height;bc.forEach(function(dc){if(dc&&dc!==ta)cc-=w.getElementDimensions(dc).height;});if(nb)cc-=nb.getOffset();if(jb)cc-=w.getElementDimensions(jb).height;return Math.max(0,cc);}function tb(){if(ac.isVisible())return;if(eb){u.hide(db);u.show(fb);u.removeClass(document.documentElement,'miniSidebar');u.removeClass(gb,"_51xq");cb&&cb.setProps({shown:false},function(){return vb(false);});}ya=true;za=false;mb=null;u.show(gb);u.addClass(document.documentElement,'sidebarMode');ib.show();ob.log('sidebar_show');g.inform('sidebar/show',ac);aa.destroy('sidebar');}function ub(){var bc=sb(la(fb.childNodes)),cc=ib.getItemHeight(),dc=8,ec=Math.floor((bc-dc)/cc);ia.set(ta,'height',bc+'px');ib.setNumTopFriends(ec);var fc=Math.floor((bc-dc)/cc);fc=(fc-2)>0?fc-2:0;kb.getData().setMaxResults(fc);g.inform('sidebar/resized',ac);g.inform('reflow');}function vb(bc){if(gb===null)return;u.conditionClass(gb,"_2e4g",bc);}function wb(){u.hide(fb);u.show(db);u.show(gb);u.addClass(document.documentElement,'sidebarMode');u.addClass(document.documentElement,'miniSidebar');u.addClass(gb,"_51xq");var bc=sb([]),cc=r.getItemHeight(true),dc=Math.floor(bc/cc)-4;if(!cb){k.loadModules(["ChatMiniSidebar.react","ChatMiniSidebarSearchSource"],function(ec,fc){if(!va)va=new fc({queryRequests:[{uri:'/ajax/mercury/composer_query.php'}]});cb=fa.render(fa.createElement(ec,{dataSource:va,height:bc,maxEntries:Math.max(dc,0),onClickSearch:vb,onToggleSidebar:ac.toggle,shown:true}),db);});}else cb.setProps({height:bc,maxEntries:Math.max(dc,0),shown:true});ya=false;za=true;aa.destroy('sidebar');ob.log('minisidebar_show');g.inform('minisidebar/show',ac);g.inform('reflow');}function xb(){n.setSetting('sidebar_mode',ac.isEnabled(),'sidebar');new i('/ajax/chat/settings.php').setHandler(pa).setErrorHandler(pa).setData({sidebar_mode:ac.isEnabled()}).setAllowCrossPageTransition(true).send();}function yb(){return ca.getActiveList().length<=l.get('sidebar.min_friends');}function zb(){var bc=true;if(!ac.isEnabled()){ob.log('state_not_enabled');bc=false;}if(!ac.isViewportCapable())if(!eb){ob.log('state_not_shown_viewport');bc=false;}else if(!ac.isViewportCapableForMiniSidebar()){ob.log('state_not_shown_viewport_mini');bc=false;}if(bc)j.bumpEntityKey(sa,'state_viewport_can_show');if(xa){ob.log('state_not_shown_hidden');bc=false;}if(yb()){ob.log('state_not_shown_num_friends');bc=false;}var cc=bc?'state_shown':'state_not_shown';ob.log(cc);j.bumpEntityKey(sa,cc);}var ac={init:function(bc,cc,dc,ec){ac.init=pa;this._initTime=ra();bb=true;gb=bc;ib=cc;kb=dc;hb=ec;ta=v.find(bc,'div.fbChatSidebarBody');db=v.find(bc,"._51x-");fb=v.find(bc,"._51x_");jb=v.find(bc,"._5qqe");eb=l.get('www_mini_sidebar',false);var fc=v.find(bc,"._x1u");fc&&fa.render(fa.createElement(q,{className:"_3a-4 _5q85"}),fc);x.listen(window,'resize',qb);z.registerKey('q',function(event){if(ya){if(!ua)ua=v.scry(bc,'.inputsearch')[0];if(ua){ua.focus();event.prevent();}}});var gc=new s(bc);gc.subscribe('updated',qb);ib.setScrollContainer(da.byClass(ib.getRoot(),'uiScrollableAreaWrap'));ib.subscribe(['render','show','hide'],oa(function(hc){var ic=ga.getInstance(ib.getRoot());ic&&ic.adjustGripper();}));p.listen();g.subscribe('chat/option-changed',function(hc,ic){if(ic.name==='hide_groups')qb();});dc.getCore().subscribe('sidebar/typeahead/active',ac.updateOnActiveTypeahead);if(ba.SidebarClearTypeaheadGK){dc.subscribe('blur',function(){if(!ib.isVisible())ac.updateOnActiveTypeahead(null,false);});dc.subscribe('focus',function(){if(ib.isVisible()&&dc.getCore().getValue())ac.updateOnActiveTypeahead(null,true);});}dc.subscribe('reset',function(){if(!dc.getCore().getValue()&&!ib.isVisible())ac.updateOnActiveTypeahead(null,false);});g.subscribe('buddylist-nub/initialized',function(hc,ic){x.listen(ic.getButton(),'click',function(event){var jc=xa;xa=false;o.enable();var kc=ac.shouldShowSidebar()||ac.shouldShowMiniSidebar();xa=jc&&!kc;return !kc;});});wa=!!n.getSetting('sidebar_mode');ea.subscribe('privacy-user-presence-changed',qb);qb();m.init(ib);ja.addPersistentRight(ac.getVisibleWidth);ac.inform('sidebar/initialized',ac,g.BEHAVIOR_PERSISTENT);g.inform('sidebar/initialized',ac,g.BEHAVIOR_PERSISTENT);nb=new ha(jb);nb.subscribe('resized',qb);t.addListener(function(){var hc=t.getState();if(hc.enabled){this.enable();}else this.disable();}.bind(this));},updateOnActiveTypeahead:function(bc,cc){if(!ya)return;if(cc){ib.hide();}else{kb.getView().clearContent();ib.show();qb();}},isInitialized:function(){return ab;},disable:function(){if(!ac.isEnabled())return;wa=false;xb();pb();},enable:function(){if(ac.isEnabled())return;wa=true;xb();qb();setTimeout(rb,0);},ensureLoaded:function(){if(!wa)return;if(bb)return;if(qa('pagelet_sidebar'))return;d(['UIPagelet'],function(bc){var cc=v.create('div',{id:'pagelet_sidebar'});v.appendContent(document.body,cc);bc.loadFromEndpoint('SidebarPagelet','pagelet_sidebar');});bb=true;},hide:function(){if(xa)return;xa=true;pb();},unhide:function(){if(!xa)return;xa=false;qb();},getBody:function(){return ta;},getRoot:function(){return gb;},getVisibleWidth:function(){if((!ya&&!za)||!gb)return 0;if(mb===null){mb=gb.offsetWidth;if(za)mb=206;}return mb;},isEnabled:function(){return wa;},isViewportCapable:function(){lb=w.getViewportWithoutScrollbarDimensions();var bc=l.get('sidebar.minimum_width');return lb.width>bc;},shouldShowSidebar:function(){var bc=ac.isViewportCapable();return bc&&!xa&&!yb();},isViewportCapableForMiniSidebar:function(){lb=w.getViewportWithoutScrollbarDimensions();var bc=l.get('sidebar.minimum_width'),cc=l.get('minisidebar.minimum_width');return lb.width>cc&&lb.width<=bc;},shouldShowMiniSidebar:function(){if(!eb)return false;var bc=ac.isViewportCapableForMiniSidebar();return bc&&!xa&&!yb();},isVisible:function(){return ya;},resize:qb,toggle:function(){o.toggle();},getInitTime:function(){return this._initTime;}};ka(ac,h);e.exports=ac;},null);
__d("ChatTypeaheadBehavior",["BanzaiLogger","ChatOpenTab","ChatTypeaheadEvent","CSS","MercuryConfig","MercuryTypeaheadConstants","Parent","Rect","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();function q(s,t){var u=m.byClass(s,"_4oes");if(u)j.conditionClass(u,"_5q83",t);}function r(s){"use strict";this._typeahead=s;this._loggedQuery=false;}r.prototype.enable=function(){"use strict";var s=this._typeahead;this._subscriptions=[s.subscribe('focus',function(){this._loggedQuery=false;s.getData().refreshData();q(s.getElement(),true);}.bind(this)),s.subscribe('blur',function(t){if(this._loggedQuery)g.log('ChatTypeaheadLoggerConfig',{event:i.ABANDONED_QUERY,max_results:s.getData().getMaxResults(),num_friend_results:s.getView().results.filter(function(u){return u.render_type===l.FRIEND_TYPE;}).length,query:s.getCore().value});if(!k.SidebarClearTypeaheadGK)s.getCore().reset();q(s.getElement(),false);this._loggedQuery=false;}.bind(this)),s.subscribe('respond',function(t,u){if(!this._loggedQuery&&s.getCore().getValue().length>0){g.log('ChatTypeaheadLoggerConfig',{event:i.NEW_QUERY});this._loggedQuery=true;}if(u.value&&u.value===s.getCore().getValue()){if(!u.results.length){var v=u.value.toLowerCase(),w=s.getData().getQueryCache();if(!u.isAsync&&!w.hasOwnProperty(v))return;s.getView().showNoResults();}j.addClass(s.getElement(),'hasValue');}}.bind(this)),s.subscribe('reset',function(){j.removeClass(s.getElement(),'hasValue');}),s.subscribe('select',function(t,u){var v=u.selected.uid;if(u.selected.mercury_thread&&!u.selected.mercury_thread.is_canonical)v=u.selected.mercury_thread.thread_fbid;s.getView().hide();g.log('ChatTypeaheadLoggerConfig',{event:i.RESULT_SELECTED,max_results:s.getData().getMaxResults(),result_type:u.selected.render_type});this._loggedQuery=false;h.openTabByType(v,u.selected.type,'typeahead');}.bind(this)),s.subscribe('highlight',function(t,u){if(u.index>=0){var v=s.getView().getItems()[u.index];if(v){var w=new n(v),x=v.offsetParent,y=w.boundWithin(new n(x)).getPositionVector();w.getPositionVector().sub(y).scrollElementBy(x);}}})];};r.prototype.disable=function(){"use strict";this._subscriptions.forEach(function(s){this._typeahead.unsubscribe(s);},this);this._subscriptions=null;};o(r.prototype,{_subscriptions:null});e.exports=r;},null);
__d("legacy:ChatTypeaheadBehavior",["ChatTypeaheadBehavior"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.chatTypeahead=function(h){h.enableBehavior(g);};},3);
__d("Tooltip.react",["React","TooltipMixin"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=g.createClass({displayName:"Tooltip",propTypes:{display:j.oneOf(['inline','block'])},getDefaultProps:function(){return {display:'inline'};},mixins:[h],render:function(){if(this.props.display==='block')return (g.createElement("div",g.__spread({},this.props),this.props.children));return g.createElement("span",g.__spread({},this.props),this.props.children);}});e.exports=k;},null);
__d("AbstractBadge.react",["React","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes;function m(o){return parseInt(o,10)===o;}var n=g.createClass({displayName:"AbstractBadge",propTypes:{count:l.number.isRequired,maxcount:l.number},getDefaultProps:function(){return {maxcount:20};},render:function(){var o=this.props.count,p=this.props.maxcount;i(m(o));i(m(p));var q=(("_51lp")+(o>p?' '+"_51lr":'')+(o===0?' '+"hidden_elem":''));return (g.createElement("span",g.__spread({},this.props,{className:j(this.props.className,q)}),o>p?p+'+':o));}});e.exports=n;},null);
__d("XUIBadge.react",["React","AbstractBadge.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"XUIBadge",propTypes:{type:l.oneOf(['regular','special'])},getDefaultProps:function(){return {type:'regular'};},render:function(){var n=this.props.type,o=(("_5ugh")+(n==='regular'?' '+"_5ugf":'')+(n==='special'?' '+"_5ugg":''));return (g.createElement(h,g.__spread({},this.props,{className:j(this.props.className,o),type:null})));}});e.exports=m;},null);
__d("SimpleXUIDialog",["DialogX","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerHideOnEscape","React","XUIDialogCancelButton.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=445,t={show:function(u,v,w,x){var y=m.createElement(q,{action:"cancel",use:"confirm"});this.showEx(u,v,y,w,x);},showConfirm:function(u,v,w,x){var y=false,z=m.createElement("div",null,m.createElement(n,{onClick:function(){y=false;}}),m.createElement(q,{action:"cancel",use:"confirm",onClick:function(){y=true;}}));function aa(){w(y);}this.showEx(u,v,z,aa,x);},showEx:function(u,v,w,x,y){y=y||{};var z=[h,j,i,l];if(y.hideOnBlur!==false)z.push(k);var aa={width:s,xui:true,addedBehaviors:z};if(v)v=m.createElement(r,{showCloseButton:true},v);if(w)w=m.createElement(p,null,w);var ba=m.createElement("div",null,v,m.createElement(o,null,u),w),ca=new g(aa,ba);if(x)ca.subscribe('hide',x);ca.show();}};e.exports=t;},null);
__d("WebMessengerEvents",["Arbiter","copyProperties"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=h(new g(),{MASTER_DOM_CHANGED:'master-dom-changed',DETAIL_DOM_CHANGED:'detail-dom-changed',FOCUS_COMPOSER:'focus-composer',FOCUS_SEARCH:'focus-search',FOCUS_AND_SELECT_SEARCH:'focus-and-select-search',STICKER_CLICKED:'sticker-clicked',SUBMIT_REPLY:'submit-reply',UPDATE_SELECTION:'update-selection',masterDOMChanged:function(){this.inform(i.MASTER_DOM_CHANGED);},detailDOMChanged:function(){this.inform(i.DETAIL_DOM_CHANGED);},focusComposer:function(){this.inform(i.FOCUS_COMPOSER);},focusSearch:function(){this.inform(i.FOCUS_SEARCH);},focusAndSelectSearch:function(){this.inform(i.FOCUS_AND_SELECT_SEARCH);},updateSelection:function(j){this.inform(i.UPDATE_SELECTION,j);},stickerClicked:function(j,k){this.inform(i.STICKER_CLICKED,{packID:j,stickerID:k});},submitReply:function(){this.inform(i.SUBMIT_REPLY);}});e.exports=i;},null);
__d("WebMessengerSubscriptionsHandler",["SubscriptionsHandler"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=new g('webmessenger');e.exports=h;},null);
__d("isWebMessengerURI",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){return (/^(\/messages)/).test(h.getPath());}e.exports=g;},null);
__d("WebMessengerWidthControl",["Arbiter","CSS","CSSClassTransition","DOM","DOMDimensions","Event","Style","URI","ViewportBounds","WebMessengerEvents","WebMessengerSubscriptionsHandler","$","cx","csx","isWebMessengerURI","requestAnimationFrame","setTimeoutAcrossTransitions","shield","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();var z=205,aa=981,ba=257,ca=18,da=848,ea=724,fa=.57,ga=56,ha,ia,ja;function ka(pa,qa,ra){this.masterChanged=pa;this.detailChaned=qa;q.addSubscriptions(l.listen(window,'resize',y(x(la,this,this),100)),g.subscribe(['sidebar/initialized','sidebar/show','sidebar/hide','minisidebar/show'],x(la,this,this),g.SUBSCRIBE_NEW));var sa=oa()?ga:0;if(ra)sa=z;this._width=oa()?0:da;ja=true;la(this,sa);}function la(pa,qa){var ra=o.getRight()+o.getLeft();ra=ra||qa||0;var sa=k.getViewportWithoutScrollbarDimensions().width-ra,ta=Math.round(Math.max(0,sa/2-aa/2));sa=aa+ta-ba;sa-=ca;sa=Math.max(ea,Math.min(da,sa));if(!isNaN(sa)&&pa._width!==sa){pa._width=sa;var ua=Math.round(sa/(1+fa)),va=sa-ua;pa.masterChanged(va);pa.detailChaned(ua);if(oa()){var wa=sa+ba;ma(function(){if(ia){document.body.className=ia;ia='';}na(wa+'px');h.removeClass(document.body,"_5uj5");ja&&p.detailDOMChanged();ja=false;},ia);}}}function ma(pa,qa){qa&&h.addClass(document.documentElement,"_5uj6");v(pa);qa&&w(h.removeClass.bind(null,document.documentElement,"_5uj6"),1000);}function na(pa){m.set(j.find(document,"div._uaw"),'width',pa);m.set(r('globalContainer'),'width',pa);}function oa(){if(!ha)ha=h.hasClass(document.body,"_6nw");return ha;}i.registerHandler(function(pa,qa,ra,sa){function ta(ua){return oa()&&u(new n(ua));}if(ta(sa)){ia=qa;return true;}else if(ta(ra)){ma(function(){pa.className=qa;na('');},true);return true;}});e.exports=ka;},null);
__d("Dock",["Event","shield","Arbiter","ArbiterMixin","ChatQuietLinks","CSS","DataStore","DOM","Parent","Scroll","Style","Toggler","Vector","copyProperties","csx","emptyFunction","WebMessengerWidthControl"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();b('WebMessengerWidthControl');function w(){}t(w,j,{MIN_HEIGHT:140,INITIAL_FLYOUT_HEIGHT_OFFSET:10,init:function(x){this.init=v;this.rootEl=x;this.calculateViewportDimensions();this.calculateFlyoutHeightOffset();k.removeEmptyHrefs(this.rootEl);g.listen(x,'click',this._onClick.bind(this));g.listen(window,'resize',this._onWindowResize.bind(this));r.subscribe(['show','hide'],function(y,z){var aa=z.getActive();if(!n.contains(x,aa))return;if(l.hasClass(aa,'fbNub')){this.notifyNub(aa,y);if(y==='show')this._resizeNubFlyout(aa);}else{var ba=o.byClass(aa,'fbNubFlyout');if(ba)l.conditionClass(ba,'menuOpened',y==='show');}}.bind(this));this.inform('init',{},i.BEHAVIOR_PERSISTENT);},calculateViewportDimensions:function(){return (this.viewportDimensions=s.getViewportDimensions());},calculateFlyoutHeightOffset:function(){this.flyoutHeightOffset=this.INITIAL_FLYOUT_HEIGHT_OFFSET+s.getElementDimensions(this.rootEl).y;var x=n.scry(document,"div._4f7n")[0];if(x){var y=q.isFixed(x)?'viewport':'document';this.flyoutHeightOffset+=s.getElementPosition(x,y).y+s.getElementDimensions(x).y;}},toggle:function(x){var y=this._findFlyout(x);if(!y)return;this.subscribe('init',function(){r.toggle(x);});},show:function(x){this.subscribe('init',function(){r.show(x);});},showNub:function(x){l.show(x);},hide:function(x){this.subscribe('init',function(){var y=r.getInstance(x);n.contains(x,y.getActive())&&y.hide();});},hideNub:function(x){l.hide(x);this.hide(x);},setUseMaxHeight:function(x,y){l.conditionClass(x,'maxHeight',y!==false);this._resizeNubFlyout(x);},_resizeNubFlyout:function(x){var y=this._findFlyout(x);if(!y||!(l.hasClass(x,'openToggler')||l.hasClass(x,'opened')))return;var z=n.find(y,'div.fbNubFlyoutOuter'),aa=n.find(z,'div.fbNubFlyoutInner'),ba=n.find(aa,'div.fbNubFlyoutBody'),ca=p.getTop(ba),da=ba.offsetHeight;q.set(ba,'height','auto');var ea=s.getElementDimensions(y),fa=s.getElementDimensions(ba),ga=this.getMaxFlyoutHeight(x);q.set(y,'max-height',ga+'px');q.set(z,'max-height',ga+'px');ea=s.getElementDimensions(y);var ha=s.getElementDimensions(aa),ia=ha.y-fa.y,ja=ea.y-ia,ka=parseInt(ba.style.height||ba.clientHeight,10),la=ja!==ka;if(ea.y>ia&&la)q.set(ba,'height',ja+'px');l.removeClass(y,'swapDirection');var ma=s.getElementPosition(y).x;l.conditionClass(y,'swapDirection',function(){if(ma<0)return true;return (ma+ea.x>this.viewportDimensions.x);}.bind(this)());if(la&&ca+da>=fa.y){p.setTop(ba,ba.scrollHeight);}else p.setTop(ba,ca);this.notifyNub(x,'resize');},getMaxFlyoutHeight:function(x){var y=this._findFlyout(x),z=s.getElementPosition(y,'viewport'),aa=s.getElementDimensions(y),ba=Math.max(this.MIN_HEIGHT,this.viewportDimensions.y-this.flyoutHeightOffset)-(this.viewportDimensions.y-z.y-aa.y);return Math.max(ba,0);},resizeAllFlyouts:function(){var x=this._getAllNubs(),y=x.length;while(y--)this._resizeNubFlyout(x[y]);},hideAllFlyouts:function(){var x=this._getAllNubs(),y=x.length;while(y--)this.hide(x[y]);},_getAllNubs:function(){var x=n.scry(this.rootEl,"div._50-v.openToggler");return x.concat(n.scry(this.rootEl,"div._50-v.opened"));},_onClick:function(event){var x=event.getTarget(),y=o.byClass(x,'fbNub');if(y){if(o.byClass(x,'fbNubFlyoutTitlebar')){var z=o.byTag(x,'a'),aa=x.nodeName=='INPUT'&&x.getAttribute('type')=='submit';if(!z&&!aa){this.hide(y);return false;}}this.notifyNub(y,'click');}},_onWindowResize:function(event){this.calculateViewportDimensions();this.resizeAllFlyouts();},_findFlyout:function(x){return l.hasClass(x,'fbNubFlyout')?x:n.scry(x,'div.fbNubFlyout')[0]||null;},registerNubController:function(x,y){m.set(x,'dock:nub:controller',y);y.subscribe('nub/button/content-changed',h(this.inform,this,'resize',x));y.subscribe('nub/flyout/content-changed',h(this._resizeNubFlyout,this,x));},unregisterNubController:function(x){m.remove(x,'dock:nub:controller');},notifyNub:function(x,y,z){var aa=m.get(x,'dock:nub:controller');aa&&aa.inform(y,z);}});e.exports=a.Dock||w;},null);
__d("NubController",["ArbiterMixin","Dock","copyProperties"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(){}i(j.prototype,g,{init:function(k){this.el=k;h.registerNubController(k,this);return this;},buttonContentChanged:function(){this.inform('nub/button/content-changed');},flyoutContentChanged:function(){this.inform('nub/flyout/content-changed');},hide:function(){h.hide(this.el);},show:function(){h.show(this.el);}});e.exports=j;},null);
__d("DropdownContextualHelpLink",["DOM","ge"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={set:function(j){var k=h('navHelpCenter');if(k!==null)g.replace(k,j);}};e.exports=i;},null);
__d("WaterfallIDGenerator",["CurrentUser","md5"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(){var l=2147483647;return Math.random()*l;}function j(){return Math.floor(Date.now()/1000);}var k={generate:function(){return h([g.getID(),j(),i()].join(':'));}};e.exports=k;},null);
__d("FBRTCDispatcher",["Dispatcher"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';e.exports=new g();},null);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","isFacebookURI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=null,o={init:function(s){if(!n)h.init(s);},play:function(s,t,u){if(n){i.playRemote(n.contentWindow,s,t,false);}else i.playLocal(s,t,u);},stop:function(s){if(!n)h.stop(s);}},p=new k(location.href);if(p.getSubdomain()&&p.getSubdomain()!=='www')p.setSubdomain('www');var q=p.getDomain();function r(){if(l.ie()<9)return false;if(g.RPC_DISABLED)return false;return j.isSupported()&&i.supportsRPC();}if(m(p)&&location.host!==q&&r()){n=document.createElement('iframe');n.setAttribute('src','//'+q+'/sound_iframe.php');n.style.display='none';document.body.appendChild(n);}e.exports=o;},null);
__d("FBRTCSoundController",["RTCConfig","Sound"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=[g.ringtone_mp3_url,g.ringtone_ogg_url],j={playIncomingRingtone:function(k,l,m){var n=['incoming_ringtone',k.toString(),l.toString()].join('_');h.play(i,n,m);},stopIncomingRingtone:function(){h.stop(i);}};e.exports=j;},null);
__d("ChatAppLoader",["Bootloader"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(j){g.loadModules(["ChatApp"],j);}var i={unhide:function(){h(function(j){j.unhide&&j.unhide();});},hide:function(){h(function(j){j.hide&&j.hide();});},init:function(j,k,l){h(function(m){m.init&&m.init(j,k,l);});}};e.exports=i;},null);
__d("MNCommerceUnlinkDataManager",["AsyncRequest","MNCommerceDialogStateActions","MNCommerceUnlinkDialogContainer.react","XMNCommerceUnlinkController"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';function k(){}k.prototype.unlink=function(l,m){var n=j.getURIBuilder().setString('page_id',l).setString('user_id',m).getURI();new g().setURI(n).setErrorHandler(this.$MNCommerceUnlinkDataManager0).send();};k.prototype.$MNCommerceUnlinkDataManager0=function(l){h.showDialog(i,{errorType:l.error});};e.exports=new k();},null);
__d("MercuryTypeaheadDataSource",["Banzai","BanzaiLogger","CurrentUser","DataSource","MercuryParticipantTypes","MercuryTypeaheadConstants","OrderedFriendsList","ShortProfiles","WorkModeConfig","debounce","merge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=500,s=[],t={},u={},v={},w=false,x=false;for(var y in j)if(j.hasOwnProperty(y))aa[y]=j[y];var z=j===null?null:j.prototype;aa.prototype=Object.create(z);aa.prototype.constructor=aa;aa.__superConstructor__=j;function aa(ba){"use strict";ba=ba||{};ba.kanaNormalization=true;j.call(this,ba);this.logQuery=p(function(ca){this.$MercuryTypeaheadDataSource0(ca);},r,this,true);this.logResponse=p(function(ca){this.$MercuryTypeaheadDataSource0(ca);},r,this,true);}aa.prototype.dirty=function(){"use strict";this.$MercuryTypeaheadDataSource1=s;this.localCache=u;this.queryCache=t;this.queryIDs=v;return this;};aa.prototype.bootstrap=function(){"use strict";if(w||x)return false;this.$MercuryTypeaheadDataSource0({event:'bootstrap_start'});x=true;n.fetchAll().then(function(){this.updateBootstrapData();this.$MercuryTypeaheadDataSource0({event:'bootstrap_end'});x=false;w=true;}.bind(this),function(){this.$MercuryTypeaheadDataSource0({event:'bootstrap_failure'});}.bind(this));return true;};aa.prototype.updateBootstrapData=function(){"use strict";var ba=this.getCachedShortProfileIDs(),ca=o.is_work_user?k.FB4C:k.FRIEND,da=ba.map(function(ea){var fa=n.getNow(ea),ga=ea==i.getID()?ca:fa.type,ha=[fa.additionalName,fa.alternateName].concat(fa.searchTokens||[]).join(' ');return {uid:ea,index:m.getActiveRank(ea),text:fa.name,tokens:ha,localized_text:fa.name,additional_text:fa.additionalName,photo:fa.thumbSrc,render_type:ga,type:l.USER_TYPE};});if(da.length)this.addEntries(da);};aa.prototype.query=function(ba,ca,da,ea){"use strict";var fa=ca||ba.length===1;return z.query.call(this,ba,fa,da,ea);};aa.prototype.getQueryData=function(ba,ca){"use strict";return q(z.getQueryData.call(this,ba,ca),{needs_friends:!this.isBootstrapped()});};aa.prototype.setEntry=function(ba,ca){"use strict";this.$MercuryTypeaheadDataSource1[ba]=ca;};aa.prototype.getEntry=function(ba){"use strict";return this.$MercuryTypeaheadDataSource1[ba]||null;};aa.prototype.getCachedShortProfileIDs=function(){"use strict";var ba=n.getCachedProfileIDs(),ca=ba.filter(function(da){var ea=n.getNow(da);return (da==i.getID()||ea.type===k.FRIEND);});return ca;};aa.prototype.isBootstrapped=function(){"use strict";return w;};aa.prototype.isBootstrapping=function(){"use strict";return x;};aa.prototype.processEntries=function(ba,ca){"use strict";ba=ba.map(function(da){if(da.index==null&&da.render_type===k.FRIEND)da.index=m.getActiveRank(da.uid);return da;});return z.processEntries.call(this,ba);};aa.prototype.mergeUids=function(ba,ca,da,ea){"use strict";var fa=ca.sort(function(ga,ha){return this.getEntry(ga).index-this.getEntry(ha).index;}.bind(this));return z.mergeUids.call(this,ba,fa,da,ea);};aa.prototype.$MercuryTypeaheadDataSource0=function(ba){"use strict";if(!g.isEnabled('mercury_typeahead_logging'))return;h.log('MercuryQueryResultsLoggerConfig',ba);};e.exports=aa;},null);
__d("MercuryNotificationRenderer",["MercuryAssert","MercuryParticipants","MercuryViewer","fbt","MercuryMessages","MercuryThreads"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=b('MercuryMessages').get(),l=b('MercuryThreads').get();function m(n,o){g.isThreadID(n);l.getThreadMeta(n,function(p){k.getThreadMessagesRange(n,0,1,function(q){var r=q.length&&q[q.length-1];if(r&&r.author!=i.getID()){h.get(r.author,function(s){if(p.name){o(j._("{senderName} messaged {groupName}",[j.param("senderName",s.short_name),j.param("groupName",p.name)]));}else o(j._("{name} messaged you",[j.param("name",s.short_name)]));});}else o(j._("New message!"));});});}e.exports={renderDocumentTitle:m};},null);
__d("MercuryThreadSearchUtils",["escapeRegex","TokenizeUtil"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={wordsInString:function(j){return (j||'').split(/\s+/).filter(function(k){return k.trim().length>0;});},anyMatchPredicate:function(j,k){for(var l=0;l<j.length;l++)if(k(j[l]))return true;return false;},allMatchPredicate:function(j,k){for(var l=0;l<j.length;l++)if(!k(j[l]))return false;return true;},queryWordMatchesAnyNameWord:function(j,k){var l=new RegExp('^'+g(j),'i');return this.anyMatchPredicate(k,function(m){var n=h.parse(m).flatValue;return l.test(n);});},queryMatchesName:function(j,k){var l=this.wordsInString(j),m=this.wordsInString(k);return this.allMatchPredicate(l,function(n){return this.queryWordMatchesAnyNameWord(n,m);}.bind(this));}};e.exports=i;},null);
__d("FileFormResetOnSubmit",["DOMQuery","Event","emptyFunction"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(l,m){var n=h.listen(l,'change',i.thatReturnsFalse,h.Priority.URGENT);try{m();}catch(o){throw o;}finally{n.remove();}}function k(l){"use strict";this._form=l;}k.prototype.enable=function(){"use strict";var l=this._reset.bind(this);this._subscription=this._form.subscribe('submit',function(){setTimeout(l,0);});};k.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};k.prototype._reset=function(){"use strict";var l=this._form.getRoot();j(l,function(){var m=g.scry(l,'input[type="file"]');m.forEach(function(n){n.value='';});});};e.exports=k;},null);
__d("P2PDialogBody.react",["CurrentEnvironment","MessengerDialogBody.react","React","XUIDialogBody.react"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=i.createClass({displayName:"P2PDialogBody",render:function(){var l=g.messengerdotcom,m=l?h:j;return (i.createElement(m,i.__spread({},this.props),this.props.children));}});e.exports=k;},null);
__d("P2PTriggersUtils",["CurrentEnvironment","MercuryIDs","P2PGKValues","P2PQEValues"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=/\$((\d{1,3}(,\d{3})*)|\d+)(\.\d{1,2})?(?=\s|\.\s|\,\s|$|\.$|\,$|\?|\!|\")/,l={canSeeTriggers:function(m){if(!j.P2PMessageTriggersEnabled)return false;if(h.isMultichat(m))if(g.messengerdotcom&&!i.P2PGroupSendMessengerDotCom){return false;}else if(g.facebookdotcom&&!i.P2PGroupSendWWW)return false;return true;},getMatches:function(m){return m.match(k);}};e.exports=l;},null);
__d("TypingDetector",["ArbiterMixin","Event","Input","Run","TypingStates","copyProperties","createObjectFrom","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();function o(p,q){this._input=p;this._ignoreKeys={};this._getValueFn=q;}l(o.prototype,g,{_timeout:7000,_currentState:k.INACTIVE,init:function(){this.init=n;this.reset();this._subscription=h.listen(this._input,'keyup',this._update.bind(this));j.onUnload(this._onunload.bind(this));},reset:function(){clearTimeout(this._checkTimer);this._checkTimer=null;this._lastKeystrokeAt=null;this._currentState=k.INACTIVE;},setIgnoreKeys:function(p){this._ignoreKeys=m(p);},destroy:function(){this._subscription.remove();},_onunload:function(){if(this._currentState==k.TYPING)this._transition(k.QUITTING);},_update:function(event){var p=h.getKeyCode(event),q=this._currentState;if(!this._ignoreKeys[p]){var r=this._getValueFn?this._getValueFn():i.getValue(this._input);if(r.trim().length===0){if(q==k.TYPING)this._transition(k.INACTIVE);}else if(q==k.TYPING){this._recordKeystroke();}else if(q==k.INACTIVE){this._transition(k.TYPING);this._recordKeystroke();}}},_transition:function(p){this.reset();this._currentState=p;this.inform('change',p);},_recordKeystroke:function(){this._lastKeystrokeTime=Date.now();if(!this._checkTimer)this._checkTimer=setTimeout(this._checkTyping.bind(this),this._timeout);},_checkTyping:function(){var p=this._lastKeystrokeTime+this._timeout,q=Date.now();if(q>p){this._transition(k.INACTIVE);}else{clearTimeout(this._checkTimer);this._checkTimer=setTimeout(this._checkTyping.bind(this),p-q+10);}}});e.exports=o;},null);
__d("FormSubmitOnChange",["Event","copyProperties","submitForm"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k){"use strict";this._form=k;}j.prototype.enable=function(){"use strict";this._listener=g.listen(this._form.getRoot(),'change',this._submit.bind(this));};j.prototype.disable=function(){"use strict";this._listener.remove();this._listener=null;};j.prototype._submit=function(){"use strict";i(this._form.getRoot());};h(j.prototype,{_listener:null});e.exports=j;},null);
__d("ClearableTypeahead",["Event"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={resetOnCloseButtonClick:function(i,j){g.listen(j,'click',function(){var k=i.getCore();k.getElement().focus();k.reset();});}};e.exports=h;},null);
__d("legacy:CompactTypeaheadRenderer",["CompactTypeaheadRenderer"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();if(!a.TypeaheadRenderers)a.TypeaheadRenderers={};a.TypeaheadRenderers.compact=b('CompactTypeaheadRenderer');},3);
__d("DialogFitHeight",["AbstractDialogFitHeight"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(){"use strict";if(g!==null)g.apply(this,arguments);}j.prototype.getHeightProperty=function(){"use strict";return 'height';};e.exports=j;},null);